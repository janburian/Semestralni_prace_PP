<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>
        Vizualizace
    </title>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <!-- JS -->
    <script type="text/javascript" src="js/rexhmi-vendor.min.js?version=2.50.10-12359"></script>
    <script type="text/javascript" src="js/rexhmi.min.js?version=2.50.10-12359"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
    <header id="header">
        <h1>Ball on spool visualization</h1>
    </header>
    <main id="content">
        <svg id="svgcanvas" xmlns="http://www.w3.org/2000/svg" version="1.1" style="width:450px; height: 480px; margin: 0 auto; background-color:#ffffff;">
            <defs>
                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:rgb(0,0,255);stop-opacity:1" />
                  <stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
                </linearGradient>
              </defs>

            <g id="mic">
                <circle id="mic2" cx="225" cy="150" r="60" stroke="black" stroke-width="2" fill="red"/> 
                    <animateTransform 
                    xlink:href="#mic"
                    attributeName="transform" 
                    attributeType="XML"
                    type="rotate"
                    from="0 225 290"
                    to="0 225 290" 
                    dur="1s"
                    repeatCount="indefinite"
                />
                
                <g id="lines">
                    <line x1="165" y1="150" x2="285" y2="150" style="stroke:rgb(0, 0, 0);stroke-width:1" /> 
                    <line x1="225" y1="210" x2="225" y2="90" style="stroke:rgb(0, 0, 0);stroke-width:1" />
                       <animateTransform 
                        xlink:href="#lines"
                        attributeName="transform" 
                        attributeType="XML"
                        type="rotate"
                        from="0 225 150"
                        to="0 225 150" 
                        dur="0.5s"
                        repeatCount="indefinite"
                    />
                </g>                 
            </g>

            <g id="obdelnik">
                <rect x="145" y="290" width="160" height="140" style="fill:grey;stroke:black;stroke-width:1;fill-opacity:0.8;stroke-opacity:0.9" />
                <line x1="145" y1="290" x2="100" y2="200" style="stroke:rgb(0, 0, 0);stroke-width:4" /> 
                <line x1="305" y1="290" x2="345" y2="200" style="stroke:rgb(0, 0, 0);stroke-width:4" />
            </g>
            
            <g id = "spulka">
                <circle id cx="225" cy="290" r="80" stroke="black" stroke-width="2" fill="url(#grad1)" />
                <line x1="220" y1="290" x2="230" y2="290" style="stroke:rgb(0, 0, 0);stroke-width:2" />
                <line x1="225" y1="295" x2="225" y2="285" style="stroke:rgb(0, 0, 0);stroke-width:2" />
                <animateTransform 
                    xlink:href="#spulka"
                    attributeName="transform" 
                    attributeType="XML"
                    type="rotate"
                    from="0 225 290"
                    to="0 225 290" 
                    dur="1s"
                    repeatCount="indefinite"
                    fill="freeze" 
                />
            </g>
        </svg>

    <div id="rightbox">
        <h2>Information</h2>
        <div>
            <p>Motor angle [rad]:</p>
            <input type="text" id="Fi1" name="Fi1" value="NaN" readonly>            
        </div>

        <div>
            <p>Motor speed [rad/s]:</p>
            <input type="text" id="dFi1" name="dFi1" value="NaN" readonly>            
        </div>

        <div>
            <p>Ball angle [rad]:</p>
            <input type="text" id="Fi2" name="Fi2" value="NaN" readonly>            
        </div>

        <div>
            <p>Ball speed [rad/s]:</p>
            <input type="text" id="dFi2" name="dFi2" value="NaN" readonly>            
        </div>
    </div>

    <div id="leftbox">
        <h2>Controls</h2>
        <div>
            <p>Initial ball angle [degrees]:</p>
            <input type="number" id="y0" name="pocatecni_podminka" value="0" step=0.5>
        </div>

        <br>

        <div class="vertical_space">
            <p>Disturbance (OFF/ON):</p>
            <label class="switch">
                <input type="checkbox" id="nahodna_porucha" name="nahodna_porucha">
                <span class="slider round"></span>
              </label>
        </div>

        <div class="vertical_space">
            <button class="button" onClick="nudge()">Nudge</button>
        </div>

        <div class="vertical_space">
            <button class="button" onClick="reset()">Reset</button>
        </div>
    </div>

    <br>

    <div id="link">
        <a href="https://www.youtube.com/watch?v=lKhs4z0jOz8">[Monarco HAT] Balancing a ball on a spool with Raspberry Pi & REXYGEN</a>
    </div>
        
    </main>
</body>

</html>